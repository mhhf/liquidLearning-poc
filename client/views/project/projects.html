<template name="projects">
    {{#if currentUser }}
      <a href="{{pathFor 'projectNew'}}" class="btn btn-primary right">new project</a>
      <h2>Own Projects</h2>
      <ul id="projectsWrapper">
        {{#each ownProjects}}
        <li>
          {{> projectWrapper}}
        </li>
        {{/each}}
      </ul>
    {{/if}}
    <h2> Popular Projects </h2>
    <ul id="projectsWrapper">
      {{#each popularProjects}}
      <li>
        {{> projectWrapper}}
      </li>
      {{/each}}
    </ul>
</template>

<template name="projectWrapper">
<div class="projectWrapper">
  <h4> {{ slice name 20 }} </h4>
  <p> {{ slice description 28 }} </p>
  <span class="info left">
    <span class="star {{#if userStared}} stared {{else}} unstared {{/if}}"> {{ stars.length }} <i class="fa fa-star-o"></i></span>
    <span class="slides"> {{ slides }} <i class="fa fa-list"></i></span>
  </span>
  <span class="info right">
    {{#if userOwn}}
      {{> showPublicStatus }}
    {{else}}
      {{> showContributor}}
    {{/if}}
  </span>
</div>
</template>


<template name="showPublicStatus">
  {{#if public }}
  <i class="fa fa-unlock"></i>
  {{else}}
  <i class="fa fa-lock"></i>
  {{/if}}
</template>

<template name="showContributor">
  {{#if userIsContributor}}
  <i class="fa fa-code"></i>
  {{/if}}
  {{#if userIsReader}}
  <i class="fa fa-eye"></i>
  {{/if}}
</template>
